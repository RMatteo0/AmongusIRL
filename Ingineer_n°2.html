<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<link rel="stylesheet" href="Css.css">
		<title> Ingénieur n°2 </title>
	</head>
	<body>
		<nav>
			<ul>
			<li> <a href="./index.html">Page d'acceuil</a> </li>
			<li> <a href="./Crewmate_n°1.html">Crew1</a> </li>
			<li> <a href="./Crewmate_n°2.html">Crew2</a> </li>
			<li> <a href="./Crewmate_n°3.html">Crew3</a> </li>
			<li> <a href="./Crewmate_n°4.html">Crew4</a> </li>
			<li> <a href="./Crewmate_n°5.html">Crew5</a> </li>
			<li> <a href="./Crewmate_n°6.html">Crew6</a> </li>
			<li> <a href="./Ingineer_n°1.html">Ing1</a> </li>
			<li> <a href="./Ingineer_n°2.html">Ing2</a> </li>
			<li> <a href="./Impostor_n°1.html">Imp1</a>  </li>
			<li> <a href="./Impostor_n°2.html">Imp2</a> </li>
			</ul>
		</nav>
		<div class="contenu">
		<h4> Ingénieur n°2 :</h4>
		<h5> Réparez le vaisseau en réalisant vos tâches pour gagner la partie mais attention aux imposteurs qui essayerons de vous tuer ! Soyez attentifs ! </h5>
		<h5> Particularité du rôle, tout comme les imposteurs vous avez accès au conduits faites en bon usage pour réaliser vos taches ! </h5>
		<h3> Tes quêtes </h3>
		<div id="checkboxes-container">
			<label class="checkable">
			<input type="checkbox" data-key="case43">
			<p>Option 1</p>
		</label><br>
		<label class="checkable">
			<input type="checkbox" data-key="case44">
			<p>Option 2</p>
		</label><br>
		<label class="checkable">
			<input type="checkbox" data-key="case45">
			<p>Option 3</p>
		</label><br>
		<label class="checkable">
			<input type="checkbox" data-key="case46">
			<p>Option 4</p>
		</label><br>
		<label class="checkable">
			<input type="checkbox" data-key="case47">
			<p>Option 5</p>
		</label><br>
		<label class="checkable">
			<input type="checkbox" data-key="case48">
			<p>Option 6</p>
		</label>
		</div>
		<div id="progress-container" style="background:#555; width:100%; height:30px; border-radius:5px; margin-bottom:10px;">
		  <div id="progress-bar" style="background:green; width:0%; height:100%; border-radius:5px; transition:width 0.5s;"></div>
		</div>
		<p id="progress-text" style="color:white; text-align:center; font-weight:bold;">0%</p>
		<img src="Image/Bouton1.png" alt= "Bouton">
		<button id="chrono62" style="margin:10px; padding:10px 20px; font-size:18px;">Seulement au salon</button>
		<audio id="sound-62" src="Reunion1min.mp3" preload="auto"></audio>
		<img src="Image/Corps.png" alt= "Corps">
		<button id="chrono59" style="margin:10px; padding:10px 20px; font-size:18px;">Réunion</button>
		<audio id="sound-59" src="Reunion1min.mp3" preload="auto"></audio>
		<h3> La Map : </h3>
		<h5> Le rez de chaussée : </h5>
		<img src="map/Rdc.png" alt= "Le rez de chaussée">
		<h5> Le premier étage : </h5>
		<img src="map/1er-étage3.png" alt= "Le premier étage">
		<h5> Le grenier : </h5>
		<img src="map/grenier4.png" alt= "Le grenier">
		<h5> L'extérieur : </h5>
		<img src="map/Dehors2.png" alt= "L'extérieur">
		<h3> Les commandes (à cacher des autres joueurs) </h3>
		<img src="Image/Ventduo2.png" alt= "Vent">
		<button id="chrono30" style="margin:10px; padding:10px 20px; font-size:18px;">Chrono 30s</button>
		<audio id="sound-30" src="Vent.mp3" preload="auto"></audio>
		<script type="module">
		  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
		  import { getDatabase } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-database.js";

		  const firebaseConfig = {
			apiKey: "AIzaSyB5SveP0dDPE6gOJYGcATSJjJIkpVegBAI",
			authDomain: "amongus-irl-ae832.firebaseapp.com",
			databaseURL: "https://amongus-irl-ae832-default-rtdb.europe-west1.firebasedatabase.app/",
			projectId: "amongus-irl-ae832",
			storageBucket: "amongus-irl-ae832.firebasestorage.app",
			messagingSenderId: "190130772923",
			appId: "1:190130772923:web:5202db1cd62f775f77029e"
			};

			const app = initializeApp(firebaseConfig);
			const database = getDatabase(app);
			window.db = database; // optionnel, pour utiliser db dans Java.js
		</script>
		<script>
			function setupChrono(buttonId, soundId, duration) {
			const button = document.getElementById(buttonId);
			const sound = document.getElementById(soundId);
			let interval;

			button.addEventListener("click", () => {
				clearInterval(interval); // stoppe un éventuel ancien chrono
				let timeLeft = duration;
				button.disabled = true;
				button.textContent = `${timeLeft}s`;
				sound.currentTime = 0;
				sound.play().catch(err => console.log("Autoplay bloqué :", err));

				interval = setInterval(() => {
				timeLeft--;
				button.textContent = `${timeLeft}s`;
				if (timeLeft <= 0) {
					clearInterval(interval);
					button.disabled = false;
					button.textContent = `Chrono ${duration}s`;
				}
				}, 1000);
			});
			}

			// ⚙️ Initialisation des deux chronos
			setupChrono("chrono30", "sound-30", 30);
			setupChrono("chrono59", "sound-59", 59);
			setupChrono("chrono62", "sound-62", 62);
		</script>
		<script type="module" src="./Java.js"></script>
		</div>
	</body>
</html>